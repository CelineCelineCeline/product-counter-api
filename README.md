# YOLO-OBB Project Detection API

## Setup

```bash
# Create new virtual environment
python -m venv .venv

#Activate it
source .venv/bin/activate

#install dependencies
pip install -r requirements.txt

#Launch the FastAPI Server
uvicorn main:app --reload
```

## Deactivating old venv
```bash
#deactivate an existing venv
deactivate

#remove the old venv
rm -rf .venv
```
**Note**: All the bash commands are for mac users please check other resources for diffrent operating systems


## Applied Augmentations

The following default augmentations were automatically applied during training by the YOLO-OBB pipeline:

- **Mosaic augmentation** – Combines 4 training images into one, increasing context and variation.
- **Random horizontal flip** – Flips images horizontally with a default probability.
- **HSV (Hue, Saturation, Value) augmentation** – Randomly alters color values to simulate lighting and color variation.
- **Random affine transformations** – Applies rotation, translation, scaling, and shearing.
- **MixUp** (if enabled) – Blends two images together (usually off by default unless specified).
- **Resize to 1024x1024** – As specified with `imgsz=1024`.

These augmentations are part of the default data pipeline in Ultralytics 


## Training Configuration

Training was performed with the YOLO Python API as follows:

```python
from ultralytics import YOLO

# Load a pretrained YOLO-OBB model
model = YOLO("yolo11n-obb.pt")

# Train the model
results = model.train(
    data="old_yolo_dataset/config.yaml",
    epochs=100,
    patience=25,
    imgsz=1024,
    project='./results',
    device=-1,             
    plots=True
)
```

## Training Metrics

Training metrics are stored in `results/train/results.csv` and include 
the following for each epoch:

| epoch | time | train/box\_loss | train/cls\_loss | train/dfl\_loss | metrics/precision\(B\) | metrics/recall\(B\) | metrics/mAP50\(B\) | metrics/mAP50-95\(B\) | val/box\_loss | val/cls\_loss | val/dfl\_loss | lr/pg0 | lr/pg1 | lr/pg2 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 1 | 78.9677 | 1.89464 | 3.88243 | 2.8053 | 0.10996 | 0.30556 | 0.145 | 0.10295 | 1.25705 | 3.80798 | 2.31234 | 6e-05 | 6e-05 | 6e-05 |
| 2 | 158.744 | 1.4787 | 3.44722 | 2.4653 | 0.17944 | 0.28446 | 0.22553 | 0.15101 | 1.16557 | 3.09769 | 2.10411 | 0.000128713 | 0.000128713 | 0.000128713 |
| 3 | 240.152 | 1.2461 | 2.94989 | 2.19539 | 0.52031 | 0.28333 | 0.24773 | 0.16529 | 1.11526 | 2.69498 | 2.0656 | 0.00019604 | 0.00019604 | 0.00019604 |
| 4 | 321.503 | 1.21774 | 2.61409 | 2.10411 | 0.51573 | 0.3 | 0.30444 | 0.20645 | 1.05823 | 2.58407 | 2.00453 | 0.000261981 | 0.000261981 | 0.000261981 |
| 5 | 402.035 | 1.08633 | 2.16455 | 2.00219 | 0.29418 | 0.50268 | 0.4432 | 0.3086 | 1.03447 | 2.42802 | 1.95893 | 0.000326536 | 0.000326536 | 0.000326536 |
| 6 | 481.101 | 1.03954 | 1.8529 | 1.9446 | 0.60083 | 0.45829 | 0.52539 | 0.37368 | 1.00904 | 2.16889 | 1.93746 | 0.000389705 | 0.000389705 | 0.000389705 |
| 7 | 561.91 | 1.05527 | 1.69891 | 1.94355 | 0.44636 | 0.65188 | 0.65189 | 0.45238 | 0.97643 | 1.97943 | 1.87576 | 0.000451488 | 0.000451488 | 0.000451488 |
| 8 | 644.098 | 1.03511 | 1.58782 | 1.89716 | 0.50451 | 0.67133 | 0.67889 | 0.46229 | 0.97616 | 1.98743 | 1.85863 | 0.000511885 | 0.000511885 | 0.000511885 |
| 9 | 725.227 | 1.01336 | 1.51494 | 1.86377 | 0.58869 | 0.75003 | 0.73213 | 0.49061 | 0.95572 | 1.83128 | 1.81852 | 0.000570896 | 0.000570896 | 0.000570896 |
| 10 | 806.951 | 1.01739 | 1.41486 | 1.8878 | 0.68265 | 0.74991 | 0.74056 | 0.51129 | 0.92643 | 1.66007 | 1.81649 | 0.000628521 | 0.000628521 | 0.000628521 |
| 11 | 889.888 | 1.02289 | 1.40285 | 1.99354 | 0.81047 | 0.63064 | 0.74251 | 0.51292 | 0.95972 | 1.56176 | 1.79192 | 0.00068476 | 0.00068476 | 0.00068476 |
| 12 | 973.411 | 1.04678 | 1.32173 | 1.93459 | 0.86503 | 0.70547 | 0.77808 | 0.53118 | 0.97262 | 1.5002 | 1.81188 | 0.000739613 | 0.000739613 | 0.000739613 |
| 13 | 1054.27 | 1.02379 | 1.28752 | 1.88345 | 0.85799 | 0.71335 | 0.80328 | 0.55851 | 0.94598 | 1.46227 | 1.81606 | 0.00079308 | 0.00079308 | 0.00079308 |
| 14 | 1136.96 | 1.00274 | 1.18257 | 1.81122 | 0.81359 | 0.72605 | 0.78957 | 0.56569 | 0.92794 | 1.41191 | 1.80429 | 0.000845161 | 0.000845161 | 0.000845161 |
| 15 | 1217.8 | 0.93746 | 1.0917 | 1.77261 | 0.82447 | 0.71544 | 0.84486 | 0.61243 | 0.89744 | 1.32222 | 1.72545 | 0.0008614 | 0.0008614 | 0.0008614 |
| 16 | 1300.71 | 0.94403 | 1.04794 | 1.81414 | 0.81091 | 0.82237 | 0.8411 | 0.62212 | 0.8902 | 1.2277 | 1.69282 | 0.0008515 | 0.0008515 | 0.0008515 |
| 17 | 1382.44 | 0.96445 | 1.11259 | 1.79096 | 0.83786 | 0.80522 | 0.85234 | 0.64704 | 0.90226 | 1.1843 | 1.6876 | 0.0008416 | 0.0008416 | 0.0008416 |
| 18 | 1463.88 | 0.91162 | 0.99021 | 1.72575 | 0.83439 | 0.76623 | 0.8156 | 0.62002 | 0.89674 | 1.16433 | 1.70257 | 0.0008317 | 0.0008317 | 0.0008317 |
| 19 | 1545.75 | 0.90563 | 1.00453 | 1.69674 | 0.85588 | 0.73731 | 0.84493 | 0.64386 | 0.92298 | 1.19092 | 1.70792 | 0.0008218 | 0.0008218 | 0.0008218 |
| 20 | 1626.88 | 0.91899 | 1.00025 | 1.70683 | 0.85345 | 0.8202 | 0.84615 | 0.64106 | 0.87057 | 1.12853 | 1.67356 | 0.0008119 | 0.0008119 | 0.0008119 |
| 21 | 1707.59 | 0.89218 | 0.9263 | 1.70455 | 0.85676 | 0.78479 | 0.85142 | 0.64011 | 0.84965 | 1.09025 | 1.65391 | 0.000802 | 0.000802 | 0.000802 |
| 22 | 1787.84 | 0.87025 | 0.94597 | 1.67834 | 0.79789 | 0.83275 | 0.84208 | 0.63155 | 0.8466 | 1.05778 | 1.68294 | 0.0007921 | 0.0007921 | 0.0007921 |
| 23 | 1870.37 | 0.90433 | 0.94241 | 1.72584 | 0.77529 | 0.82721 | 0.83665 | 0.6417 | 0.87631 | 1.04354 | 1.69005 | 0.0007822 | 0.0007822 | 0.0007822 |
| 24 | 1951.22 | 0.89309 | 0.88654 | 1.72411 | 0.79419 | 0.84824 | 0.84218 | 0.63662 | 0.86714 | 1.03493 | 1.6823 | 0.0007723 | 0.0007723 | 0.0007723 |
| 25 | 2030.28 | 0.87158 | 0.88353 | 1.67512 | 0.79234 | 0.83189 | 0.83341 | 0.61891 | 0.87189 | 1.03479 | 1.67828 | 0.0007624 | 0.0007624 | 0.0007624 |
| 26 | 2110.13 | 0.89272 | 0.91244 | 1.71682 | 0.83739 | 0.8037 | 0.83309 | 0.65618 | 0.86019 | 0.98101 | 1.63838 | 0.0007525 | 0.0007525 | 0.0007525 |
| 27 | 2189.6 | 0.89647 | 0.8857 | 1.72082 | 0.84797 | 0.80975 | 0.83628 | 0.65305 | 0.86234 | 0.98346 | 1.63303 | 0.0007426 | 0.0007426 | 0.0007426 |
| 28 | 2270.05 | 0.86221 | 0.86555 | 1.69453 | 0.84515 | 0.80491 | 0.83555 | 0.65527 | 0.85778 | 0.95102 | 1.60935 | 0.0007327 | 0.0007327 | 0.0007327 |
| 29 | 2353.63 | 0.83811 | 0.81828 | 1.63225 | 0.88396 | 0.78763 | 0.83358 | 0.65734 | 0.87289 | 0.948 | 1.61499 | 0.0007228 | 0.0007228 | 0.0007228 |
| 30 | 2436.53 | 0.85376 | 0.86596 | 1.6573 | 0.84268 | 0.8081 | 0.8431 | 0.67734 | 0.86586 | 0.97894 | 1.60585 | 0.0007129 | 0.0007129 | 0.0007129 |
| 31 | 2518.1 | 0.822 | 0.80791 | 1.6815 | 0.8618 | 0.80057 | 0.83338 | 0.67219 | 0.84716 | 0.96059 | 1.57283 | 0.000703 | 0.000703 | 0.000703 |
| 32 | 2598.67 | 0.78937 | 0.7947 | 1.61359 | 0.8873 | 0.78259 | 0.84697 | 0.67172 | 0.82736 | 0.96137 | 1.59497 | 0.0006931 | 0.0006931 | 0.0006931 |
| 33 | 2680.01 | 0.79608 | 0.78048 | 1.61839 | 0.88496 | 0.77217 | 0.84828 | 0.67245 | 0.83357 | 0.9489 | 1.62554 | 0.0006832 | 0.0006832 | 0.0006832 |
| 34 | 2760.09 | 0.83177 | 0.7843 | 1.65947 | 0.85935 | 0.81273 | 0.85407 | 0.67645 | 0.85685 | 0.93281 | 1.63342 | 0.0006733 | 0.0006733 | 0.0006733 |
| 35 | 2842.66 | 0.80371 | 0.78341 | 1.57835 | 0.86786 | 0.83967 | 0.85615 | 0.68071 | 0.82633 | 0.91523 | 1.62407 | 0.0006634 | 0.0006634 | 0.0006634 |
| 36 | 2924.27 | 0.8067 | 0.76745 | 1.65111 | 0.89292 | 0.81079 | 0.85871 | 0.69192 | 0.83548 | 0.89916 | 1.60044 | 0.0006535 | 0.0006535 | 0.0006535 |
| 37 | 3007.08 | 0.80173 | 0.7922 | 1.59672 | 0.87974 | 0.80533 | 0.83715 | 0.66846 | 0.84632 | 0.89844 | 1.59525 | 0.0006436 | 0.0006436 | 0.0006436 |
| 38 | 3089.54 | 0.77763 | 0.7394 | 1.65316 | 0.8843 | 0.80185 | 0.85236 | 0.67717 | 0.84032 | 0.88685 | 1.62736 | 0.0006337 | 0.0006337 | 0.0006337 |
| 39 | 3173.72 | 0.7991 | 0.7514 | 1.61716 | 0.82872 | 0.79203 | 0.8212 | 0.65604 | 0.83106 | 0.86711 | 1.59136 | 0.0006238 | 0.0006238 | 0.0006238 |
| 40 | 3257.12 | 0.77459 | 0.66386 | 1.53913 | 0.80829 | 0.81013 | 0.81254 | 0.64292 | 0.84782 | 0.89325 | 1.61681 | 0.0006139 | 0.0006139 | 0.0006139 |
| 41 | 3339.73 | 0.79883 | 0.70722 | 1.61345 | 0.84855 | 0.82008 | 0.82 | 0.6507 | 0.84369 | 0.89943 | 1.62334 | 0.000604 | 0.000604 | 0.000604 |
| 42 | 3422.34 | 0.78542 | 0.71857 | 1.64485 | 0.90661 | 0.83269 | 0.86601 | 0.68384 | 0.83932 | 0.88994 | 1.61054 | 0.0005941 | 0.0005941 | 0.0005941 |
| 43 | 3505.61 | 0.77145 | 0.71524 | 1.59488 | 0.87847 | 0.81365 | 0.85779 | 0.67369 | 0.82337 | 0.86162 | 1.59128 | 0.0005842 | 0.0005842 | 0.0005842 |
| 44 | 3592.03 | 0.80137 | 0.71328 | 1.62078 | 0.85192 | 0.82079 | 0.85318 | 0.67609 | 0.82692 | 0.85922 | 1.55815 | 0.0005743 | 0.0005743 | 0.0005743 |
| 45 | 3677.33 | 0.82732 | 0.75153 | 1.70446 | 0.85882 | 0.79082 | 0.84093 | 0.67688 | 0.81781 | 0.86931 | 1.58009 | 0.0005644 | 0.0005644 | 0.0005644 |
| 46 | 3763.05 | 0.75608 | 0.69629 | 1.60363 | 0.86406 | 0.7702 | 0.83899 | 0.66881 | 0.81276 | 0.88659 | 1.63121 | 0.0005545 | 0.0005545 | 0.0005545 |
| 47 | 3847.05 | 0.76246 | 0.71063 | 1.59262 | 0.83653 | 0.78387 | 0.82451 | 0.66715 | 0.82377 | 0.9139 | 1.64188 | 0.0005446 | 0.0005446 | 0.0005446 |
| 48 | 3931.9 | 0.77597 | 0.68185 | 1.61655 | 0.87884 | 0.7652 | 0.83074 | 0.66436 | 0.81574 | 0.90198 | 1.61344 | 0.0005347 | 0.0005347 | 0.0005347 |
| 49 | 4017.23 | 0.79463 | 0.71668 | 1.5728 | 0.87682 | 0.77809 | 0.8284 | 0.65557 | 0.80686 | 0.87624 | 1.61676 | 0.0005248 | 0.0005248 | 0.0005248 |
| 50 | 4103.18 | 0.77963 | 0.70526 | 1.64484 | 0.78655 | 0.85758 | 0.85069 | 0.66435 | 0.82993 | 0.86495 | 1.6396 | 0.0005149 | 0.0005149 | 0.0005149 |
| 51 | 4186.14 | 0.77777 | 0.68326 | 1.62008 | 0.87353 | 0.81272 | 0.85384 | 0.67616 | 0.8677 | 0.87464 | 1.63198 | 0.000505 | 0.000505 | 0.000505 |
| 52 | 4271.49 | 0.75484 | 0.66907 | 1.54626 | 0.89286 | 0.8202 | 0.86179 | 0.6767 | 0.85649 | 0.87978 | 1.65764 | 0.0004951 | 0.0004951 | 0.0004951 |
| 53 | 4355.62 | 0.77546 | 0.69052 | 1.59242 | 0.87982 | 0.8129 | 0.85711 | 0.67239 | 0.85472 | 0.87671 | 1.65821 | 0.0004852 | 0.0004852 | 0.0004852 |
| 54 | 4439.08 | 0.71898 | 0.64589 | 1.5624 | 0.87519 | 0.81243 | 0.86374 | 0.67423 | 0.88013 | 0.88293 | 1.66731 | 0.0004753 | 0.0004753 | 0.0004753 |
| 55 | 4523.31 | 0.73033 | 0.65876 | 1.57646 | 0.83206 | 0.87742 | 0.8621 | 0.66766 | 0.85765 | 0.87988 | 1.67007 | 0.0004654 | 0.0004654 | 0.0004654 |
| 56 | 4610.06 | 0.74535 | 0.67612 | 1.65074 | 0.86055 | 0.8545 | 0.8583 | 0.66045 | 0.86454 | 0.88635 | 1.64404 | 0.0004555 | 0.0004555 | 0.0004555 |
| 57 | 4694.89 | 0.71856 | 0.64348 | 1.53603 | 0.87435 | 0.84775 | 0.85747 | 0.6652 | 0.85647 | 0.89251 | 1.64401 | 0.0004456 | 0.0004456 | 0.0004456 |
| 58 | 4780.34 | 0.70142 | 0.59677 | 1.52969 | 0.87673 | 0.84671 | 0.85315 | 0.66889 | 0.85185 | 0.8913 | 1.65657 | 0.0004357 | 0.0004357 | 0.0004357 |
| 59 | 4868.37 | 0.74071 | 0.65515 | 1.57879 | 0.88171 | 0.84831 | 0.85619 | 0.68842 | 0.83916 | 0.8862 | 1.64199 | 0.0004258 | 0.0004258 | 0.0004258 |
| 60 | 4953.73 | 0.71781 | 0.63467 | 1.60022 | 0.89739 | 0.82695 | 0.85222 | 0.68814 | 0.81146 | 0.87539 | 1.63632 | 0.0004159 | 0.0004159 | 0.0004159 |
| 61 | 5039.39 | 0.73759 | 0.63643 | 1.57526 | 0.8978 | 0.828 | 0.85309 | 0.68661 | 0.80076 | 0.86714 | 1.62853 | 0.000406 | 0.000406 | 0.000406 |
